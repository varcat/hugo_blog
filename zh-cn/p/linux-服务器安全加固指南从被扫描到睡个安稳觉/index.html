<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="è®°å½•ä¸€æ¬¡é˜¿é‡Œäº‘æœåŠ¡å™¨è¢«æš´åŠ›ç ´è§£åçš„å®‰å…¨åŠ å›ºè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ SSH Keyã€ä¿®æ”¹ç«¯å£ã€Fail2Ban ç­‰å®æˆ˜é…ç½®ã€‚"><title>Linux æœåŠ¡å™¨å®‰å…¨åŠ å›ºæŒ‡å—ï¼šä»è¢«æ‰«æåˆ°ç¡ä¸ªå®‰ç¨³è§‰</title><link rel=canonical href=https://varcat.github.io/hugo_blog/zh-cn/p/linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%8C%87%E5%8D%97%E4%BB%8E%E8%A2%AB%E6%89%AB%E6%8F%8F%E5%88%B0%E7%9D%A1%E4%B8%AA%E5%AE%89%E7%A8%B3%E8%A7%89/><link rel=stylesheet href=/hugo_blog/scss/style.min.833d6eed45de56f48306bf57268d5b8cdfc8a60e8e7bdc99810464fcd033f7c6.css><meta property='og:title' content="Linux æœåŠ¡å™¨å®‰å…¨åŠ å›ºæŒ‡å—ï¼šä»è¢«æ‰«æåˆ°ç¡ä¸ªå®‰ç¨³è§‰"><meta property='og:description' content="è®°å½•ä¸€æ¬¡é˜¿é‡Œäº‘æœåŠ¡å™¨è¢«æš´åŠ›ç ´è§£åçš„å®‰å…¨åŠ å›ºè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ SSH Keyã€ä¿®æ”¹ç«¯å£ã€Fail2Ban ç­‰å®æˆ˜é…ç½®ã€‚"><meta property='og:url' content='https://varcat.github.io/hugo_blog/zh-cn/p/linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%8C%87%E5%8D%97%E4%BB%8E%E8%A2%AB%E6%89%AB%E6%8F%8F%E5%88%B0%E7%9D%A1%E4%B8%AA%E5%AE%89%E7%A8%B3%E8%A7%89/'><meta property='og:site_name' content='varcat'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='linux'><meta property='article:published_time' content='2025-11-12T19:34:00+08:00'><meta property='article:modified_time' content='2025-11-12T19:34:00+08:00'><meta name=twitter:title content="Linux æœåŠ¡å™¨å®‰å…¨åŠ å›ºæŒ‡å—ï¼šä»è¢«æ‰«æåˆ°ç¡ä¸ªå®‰ç¨³è§‰"><meta name=twitter:description content="è®°å½•ä¸€æ¬¡é˜¿é‡Œäº‘æœåŠ¡å™¨è¢«æš´åŠ›ç ´è§£åçš„å®‰å…¨åŠ å›ºè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ SSH Keyã€ä¿®æ”¹ç«¯å£ã€Fail2Ban ç­‰å®æˆ˜é…ç½®ã€‚"><link rel="shortcut icon" href=/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=åˆ‡æ¢èœå•>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/hugo_blog/zh-cn/><img src=/hugo_blog/img/avatar_hu_12316f02ad07fe88.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><div class=site-meta><h1 class=site-name><a href=/hugo_blog/zh-cn>varcat</a></h1><h2 class=site-description>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</h2></div></header><ol class=menu-social><li><a href=https://github.com/varcat target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/hugo_blog/zh-cn/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>é¦–é¡µ</span></a></li><li><a href=/hugo_blog/zh-cn/resume/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>ç®€å†</span></a></li><li><a href=/hugo_blog/zh-cn/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>å½’æ¡£</span></a></li><li><a href=/hugo_blog/zh-cn/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>æœç´¢</span></a></li><li><a href=/hugo_blog/zh-cn/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://varcat.github.io/hugo_blog/zh-cn/ selected>ç®€ä½“ä¸­æ–‡</option><option value=https://varcat.github.io/hugo_blog/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>æš—è‰²æ¨¡å¼</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">ç›®å½•</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å‰è¨€>å‰è¨€</a></li><li><a href=#ç¬¬ä¸€æ­¥çŸ¥å·±çŸ¥å½¼æ—¥å¿—æ’æŸ¥>ç¬¬ä¸€æ­¥ï¼šçŸ¥å·±çŸ¥å½¼ï¼Œæ—¥å¿—æ’æŸ¥</a><ol><li><a href=#æŸ¥æŸ¥æœ‰æ²¡æœ‰äººå·²ç»æ··è¿›æ¥äº†>æŸ¥æŸ¥æœ‰æ²¡æœ‰äººå·²ç»æ··è¿›æ¥äº†</a></li><li><a href=#çœ‹çœ‹æ˜¯è°åœ¨æ•²é—¨>çœ‹çœ‹æ˜¯è°åœ¨æ•²é—¨</a></li></ol></li><li><a href=#ç¬¬äºŒæ­¥åŸºç¡€åŠ å›ºæŠŠé—¨ç„Šæ­»>ç¬¬äºŒæ­¥ï¼šåŸºç¡€åŠ å›ºï¼ŒæŠŠé—¨ç„Šæ­»</a><ol><li><a href=#ç¦ç”¨-root-ç›´æ¥ç™»å½•åˆ›å»ºæ™®é€šç”¨æˆ·>ç¦ç”¨ Root ç›´æ¥ç™»å½•ï¼Œåˆ›å»ºæ™®é€šç”¨æˆ·</a></li><li><a href=#é…ç½®-ssh-key-ç™»å½•ç¦ç”¨å¯†ç >é…ç½® SSH Key ç™»å½•ï¼Œç¦ç”¨å¯†ç </a></li><li><a href=#ä¿®æ”¹-ssh-é…ç½®æ–‡ä»¶>ä¿®æ”¹ SSH é…ç½®æ–‡ä»¶</a></li></ol></li><li><a href=#ç¬¬ä¸‰æ­¥ä¸»åŠ¨é˜²å¾¡fail2ban>ç¬¬ä¸‰æ­¥ï¼šä¸»åŠ¨é˜²å¾¡ï¼ŒFail2Ban</a><ol><li><a href=#å®‰è£…-fail2ban>å®‰è£… Fail2Ban</a></li><li><a href=#é…ç½®-jail>é…ç½® Jail</a></li><li><a href=#å¯åŠ¨å¹¶æŸ¥çœ‹çŠ¶æ€>å¯åŠ¨å¹¶æŸ¥çœ‹çŠ¶æ€</a></li></ol></li><li><a href=#ç¬¬å››æ­¥æœ€åçš„é˜²çº¿é˜²ç«å¢™>ç¬¬å››æ­¥ï¼šæœ€åçš„é˜²çº¿ï¼Œé˜²ç«å¢™</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/hugo_blog/zh-cn/p/linux-%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E5%85%A8%E5%8A%A0%E5%9B%BA%E6%8C%87%E5%8D%97%E4%BB%8E%E8%A2%AB%E6%89%AB%E6%8F%8F%E5%88%B0%E7%9D%A1%E4%B8%AA%E5%AE%89%E7%A8%B3%E8%A7%89/>Linux æœåŠ¡å™¨å®‰å…¨åŠ å›ºæŒ‡å—ï¼šä»è¢«æ‰«æåˆ°ç¡ä¸ªå®‰ç¨³è§‰</a></h2><h3 class=article-subtitle>è®°å½•ä¸€æ¬¡é˜¿é‡Œäº‘æœåŠ¡å™¨è¢«æš´åŠ›ç ´è§£åçš„å®‰å…¨åŠ å›ºè¿‡ç¨‹ï¼ŒåŒ…æ‹¬ SSH Keyã€ä¿®æ”¹ç«¯å£ã€Fail2Ban ç­‰å®æˆ˜é…ç½®ã€‚</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published datetime=2025-11-12T19:34:00+08:00>2025/11/12</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>é˜…è¯»æ—¶é•¿: 5 åˆ†é’Ÿ</time></div></footer></div></header><section class=article-content><h2 id=å‰è¨€>å‰è¨€</h2><p>æˆ‘æ‰‹å¤´è¿™å°é˜¿é‡Œäº‘ ECS å®ä¾‹å¹³æ—¶ä¸»è¦ç”¨äºæ‰˜ç®¡åšå®¢å’Œè¿è¡Œ Docker æœåŠ¡ï¼Œæ­¤å‰å¹¶æœªåœ¨å®‰å…¨é…ç½®ä¸ŠæŠ•å…¥å¤ªå¤šç²¾åŠ›ã€‚</p><p>ç›´åˆ°æœ€è¿‘å¶ç„¶æŸ¥çœ‹ç³»ç»Ÿæ—¥å¿—æ—¶ï¼Œæ‰å‘ç° <code>/var/log/secure</code> ä¸­å……æ–¥ç€å¯†å¯†éº»éº»çš„ <code>Failed password for root</code> è®°å½•ã€‚ç»æº¯æºåˆ†æï¼Œè¿™äº›æ¶æ„ç™»å½•å°è¯•æ¥è‡ªå…¨çƒå„åœ°ã€‚é¢å¯¹è¿™æ•°ä¸‡æ¡æš´ç ´è®°å½•ï¼Œæˆ‘ä¸ç¦å¯¹æœåŠ¡å™¨çš„å¤„å¢ƒæ„Ÿåˆ°æ‹…å¿§â€”â€”æš´éœ²åœ¨å…¬ç½‘ç¯å¢ƒä¸‹çš„æœåŠ¡å™¨ï¼Œå®é™…ä¸Šæ­£æ—¶åˆ»ç»å—ç€å„ç±»è‡ªåŠ¨åŒ–è„šæœ¬çš„æ— å·®åˆ«æ‰«æä¸æ”»å‡»ã€‚</p><p>å°½ç®¡æˆ‘è®¾ç½®äº†é«˜å¼ºåº¦çš„å¤æ‚å¯†ç ï¼Œä½†è¿™ç§è¢«æŒç»­ç›¯ä¸Šçš„æ½œåœ¨é£é™©å§‹ç»ˆä»¤äººä¸å®‰ã€‚ä¸€æ—¦é˜²å¾¡è¢«çªç ´ï¼ŒæœåŠ¡å™¨ä¸Šçš„æ•°æ®å®‰å…¨å°†æ— ä»è°ˆèµ·ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ç‰¹æ„æŠ½å‡ºæ—¶é—´å¯¹æœåŠ¡å™¨è¿›è¡Œäº†å…¨é¢çš„å®‰å…¨åŠ å›ºã€‚æœ¬æ–‡å°†è¯¦ç»†è®°å½•è¿™ä¸€æ•´æ”¹è¿‡ç¨‹ï¼Œå¸Œæœ›èƒ½ä¸ºåŒæ ·è¿è¡Œç€å…¬ç½‘æœåŠ¡å™¨çš„æœ‹å‹ä»¬æä¾›ä¸€ä»½å®ç”¨çš„å®‰å…¨å‚è€ƒã€‚</p><h2 id=ç¬¬ä¸€æ­¥çŸ¥å·±çŸ¥å½¼æ—¥å¿—æ’æŸ¥>ç¬¬ä¸€æ­¥ï¼šçŸ¥å·±çŸ¥å½¼ï¼Œæ—¥å¿—æ’æŸ¥</h2><p>åœ¨åŠ¨æ‰‹ä¹‹å‰ï¼Œå…ˆçœ‹çœ‹æƒ…å†µåˆ°åº•æœ‰å¤šä¸¥å³»ã€‚</p><h3 id=æŸ¥æŸ¥æœ‰æ²¡æœ‰äººå·²ç»æ··è¿›æ¥äº†>æŸ¥æŸ¥æœ‰æ²¡æœ‰äººå·²ç»æ··è¿›æ¥äº†</h3><p>è¿™æ˜¯æœ€å…³é”®çš„ï¼Œå…ˆç¡®è®¤â€œå¤„å¢ƒâ€ã€‚ä½¿ç”¨ <code>last</code> å‘½ä»¤æŸ¥çœ‹æœ€è¿‘æˆåŠŸçš„ç™»å½•è®°å½•ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># æå–æ‰€æœ‰ç™»å½• IPï¼Œè¿‡æ»¤æ‰æœ¬åœ°ç™»å½•å’Œæ— æ•ˆå¹²æ‰°</span>
</span></span><span class=line><span class=cl>last -i <span class=p>|</span> awk <span class=s1>&#39;{print $3}&#39;</span> <span class=p>|</span> grep -E <span class=s2>&#34;([0-9]{1,3}\.){3}[0-9]{1,3}&#34;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr
</span></span></code></pre></td></tr></table></div></div><p>é‡ç‚¹çœ‹æœ‰æ²¡æœ‰é™Œç”Ÿçš„ IP åœ°å€ã€‚å¦‚æœæ˜¯è‡ªå·±ä¸è®¤è¯†çš„ IPï¼Œé‚£è¯´æ˜å·²ç»è¢«æ”»ç ´äº†ï¼Œè¿™æ—¶å€™é‡è£…ç³»ç»Ÿå¯èƒ½æ˜¯æœ€ç¨³å¦¥çš„é€‰æ‹©ã€‚å¥½åœ¨æˆ‘æŸ¥äº†ä¸€åœˆï¼Œé™¤äº†æˆ‘è‡ªå·±çš„ IPï¼Œæ²¡æœ‰åˆ«çš„æˆåŠŸè®°å½•ã€‚</p><h3 id=çœ‹çœ‹æ˜¯è°åœ¨æ•²é—¨>çœ‹çœ‹æ˜¯è°åœ¨æ•²é—¨</h3><p>çœ‹çœ‹é‚£äº›å¤±è´¥çš„å°è¯•éƒ½æ¥è‡ªå“ªé‡Œã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç»Ÿè®¡ä¸€ä¸‹æ”»å‡»è€…çš„ IPï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ç»Ÿè®¡æ‰€æœ‰å¤±è´¥ IP (æŒ‰æ¬¡æ•°æ’åº) entOS/RHEL ç³»é€šå¸¸åœ¨ /var/log/secure</span>
</span></span><span class=line><span class=cl>grep <span class=s2>&#34;Failed password&#34;</span> /var/log/auth.log <span class=p>|</span> awk <span class=s1>&#39;{print $(NF-3)}&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr
</span></span><span class=line><span class=cl><span class=c1># ç»Ÿè®¡â€œä¸å­˜åœ¨çš„ç”¨æˆ·â€ç™»å½•å°è¯•</span>
</span></span><span class=line><span class=cl>grep <span class=s2>&#34;Invalid user&#34;</span> /var/log/auth.log <span class=p>|</span> awk <span class=s1>&#39;{print $10}&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Debian 12 åŠä»¥å ç»Ÿè®¡å¯†ç é”™è¯¯ç™»å½•å¤±è´¥çš„ IP</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_SYSTEMD_UNIT</span><span class=o>=</span>ssh.service <span class=p>|</span> grep <span class=s2>&#34;Failed password&#34;</span> <span class=p>|</span> awk <span class=s1>&#39;{print $(NF-3)}&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr
</span></span><span class=line><span class=cl><span class=c1># ç»Ÿè®¡ä¸å­˜åœ¨ç”¨æˆ·ç™»å½•å°è¯•çš„ IP</span>
</span></span><span class=line><span class=cl>journalctl <span class=nv>_SYSTEMD_UNIT</span><span class=o>=</span>ssh.service <span class=p>|</span> grep <span class=s2>&#34;Invalid user&#34;</span> <span class=p>|</span> awk <span class=s1>&#39;{print $10}&#39;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -c <span class=p>|</span> sort -nr
</span></span></code></pre></td></tr></table></div></div><p>è·‘å®Œå‘½ä»¤ï¼Œçœ‹ç€é‚£äº›æˆç™¾ä¸Šåƒçš„æ•°å­—ï¼Œä½ ä¼šæœ‰åŠ¨åŠ›çš„ã€‚</p><h2 id=ç¬¬äºŒæ­¥åŸºç¡€åŠ å›ºæŠŠé—¨ç„Šæ­»>ç¬¬äºŒæ­¥ï¼šåŸºç¡€åŠ å›ºï¼ŒæŠŠé—¨ç„Šæ­»</h2><p>æ—¢ç„¶æ˜¯ SSH æš´åŠ›ç ´è§£ï¼Œé‚£æˆ‘ä»¬å°±åœ¨ SSH ä¸Šåšæ–‡ç« ã€‚</p><h3 id=ç¦ç”¨-root-ç›´æ¥ç™»å½•åˆ›å»ºæ™®é€šç”¨æˆ·>ç¦ç”¨ Root ç›´æ¥ç™»å½•ï¼Œåˆ›å»ºæ™®é€šç”¨æˆ·</h3><p>ç›´æ¥ç”¨ root ç™»å½•æ˜¯å¤§å¿Œã€‚æˆ‘ä»¬å…ˆåˆ›å»ºä¸€ä¸ªæ™®é€šç”¨æˆ·ï¼Œå¹¶èµ‹äºˆ sudo æƒé™ã€‚</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># åˆ›å»ºç”¨æˆ· user (æ¢æˆä½ è‡ªå·±çš„åå­—)</span>
</span></span><span class=line><span class=cl>useradd -m user
</span></span><span class=line><span class=cl>passwd user
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># èµ‹äºˆ sudo æƒé™</span>
</span></span><span class=line><span class=cl><span class=c1># CentOS/RHEL:</span>
</span></span><span class=line><span class=cl>usermod -aG wheel user
</span></span><span class=line><span class=cl><span class=c1># Ubuntu/Debian:</span>
</span></span><span class=line><span class=cl>usermod -aG sudo user
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®-ssh-key-ç™»å½•ç¦ç”¨å¯†ç >é…ç½® SSH Key ç™»å½•ï¼Œç¦ç”¨å¯†ç </h3><p>å¯†ç å†å¤æ‚ä¹Ÿæœ‰è¢«æ’ç ´çš„å¯èƒ½ï¼Œå¯†é’¥å°±å®‰å…¨å¤šäº†ã€‚</p><p>åœ¨ä½ çš„<strong>æœ¬åœ°ç”µè„‘</strong>ï¼ˆä¸æ˜¯æœåŠ¡å™¨ï¼‰ä¸Šç”Ÿæˆå¯†é’¥å¯¹ï¼ˆå¦‚æœä½ è¿˜æ²¡æœ‰çš„è¯ï¼‰ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-keygen -t ed25519 -C <span class=s2>&#34;your_email@example.com&#34;</span>
</span></span></code></pre></td></tr></table></div></div><p>ç„¶åæŠŠå…¬é’¥ä¼ åˆ°æœåŠ¡å™¨ä¸Šï¼š</p><ul><li>æ–¹æ³•ä¸€ï¼šä½¿ç”¨ ssh-copy-idï¼ˆæœ€æ¨èï¼Œæœ€çœå¿ƒï¼‰
è¿™æ˜¯æœ€æ ‡å‡†çš„å·¥å…·ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†ç›®å½•åˆ›å»ºã€æƒé™è®¾ç½®å’Œå†…å®¹è¿½åŠ ã€‚</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>ssh-copy-id -i ~/.ssh/id_ed25519.pub user@&lt;æœåŠ¡å™¨IP&gt;
</span></span></code></pre></td></tr></table></div></div><ul><li>æ–¹æ³•äºŒï¼šä¸€è¡Œå‘½ä»¤æ‰‹åŠ¨å†™å…¥
å¦‚æœä½ æ— æ³•ç›´æ¥ä½¿ç”¨ ssh-copy-idï¼Œå¯ä»¥ç”¨ç®¡é“ç¬¦è¿œç¨‹å†™å…¥ï¼š</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>cat ~/.ssh/id_rsa.pub <span class=p>|</span> ssh user@your_vps_ip <span class=s2>&#34;mkdir -p ~/.ssh &amp;&amp; cat &gt;&gt; ~/.ssh/authorized_keys&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=ä¿®æ”¹-ssh-é…ç½®æ–‡ä»¶>ä¿®æ”¹ SSH é…ç½®æ–‡ä»¶</h3><p>ç¼–è¾‘ <code>/etc/ssh/sshd_config</code>ï¼Œåšä»¥ä¸‹å‡ ä¸ªå…³é”®ä¿®æ”¹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo vim /etc/ssh/sshd_config
</span></span></code></pre></td></tr></table></div></div><p>æ‰¾åˆ°å¹¶ä¿®æ”¹ï¼ˆæˆ–æ·»åŠ ï¼‰ä»¥ä¸‹é…ç½®ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 1. ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Œé¿å¼€ 99% çš„è„šæœ¬æ‰«æ</span>
</span></span><span class=line><span class=cl><span class=c1># é€‰ä¸€ä¸ª 1024-65535 ä¹‹é—´çš„ç«¯å£ï¼Œæ¯”å¦‚ 22222</span>
</span></span><span class=line><span class=cl>Port <span class=m>22222</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 2. ç¦æ­¢ root ç™»å½•</span>
</span></span><span class=line><span class=cl>PermitRootLogin no
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 3. ç¦æ­¢å¯†ç ç™»å½•ï¼ˆå¿…é¡»ç¡®ä¿å¯†é’¥ç™»å½•å·²é…ç½®å¥½ï¼ï¼‰</span>
</span></span><span class=line><span class=cl>PasswordAuthentication no
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 4. ä»…å…è®¸ç‰¹å®šç”¨æˆ·ç™»å½•ï¼ˆå¯é€‰ï¼Œæ›´ä¸¥æ ¼ï¼‰</span>
</span></span><span class=line><span class=cl>AllowUsers user
</span></span></code></pre></td></tr></table></div></div><p>æ”¹å®Œåï¼Œåˆ«æ€¥ç€é‡å¯ sshdï¼Œå…ˆå»<strong>é˜¿é‡Œäº‘æ§åˆ¶å°çš„å®‰å…¨ç»„</strong>é‡Œï¼ŒæŠŠ TCP 22222 ç«¯å£æ”¾è¡Œï¼å¦åˆ™ä¸€é‡å¯ä½ å°±æŠŠè‡ªå·±å…³é—¨å¤–äº†ã€‚</p><p>æ”¾è¡Œç«¯å£åï¼Œé‡å¯ SSH æœåŠ¡ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart sshd
</span></span></code></pre></td></tr></table></div></div><p><strong>æ³¨æ„:</strong> å…ˆåˆ«å…³å½“å‰çš„sshçª—å£ï¼Œæ–°å¼€ä¸€ä¸ªsshæµ‹è¯•ä¸€ä¸‹èƒ½ä¸èƒ½ç”¨å¯†é’¥ç™»å½•æˆåŠŸã€‚</p><p>è¿™æ—¶å€™ï¼Œç»å¤§å¤šæ•°çš„æ‰«æè„šæœ¬å› ä¸ºè¿ä¸ä¸Š 22 ç«¯å£ï¼Œå°±å·²ç»æ”¾å¼ƒä½ çš„æœåŠ¡å™¨äº†ã€‚</p><h2 id=ç¬¬ä¸‰æ­¥ä¸»åŠ¨é˜²å¾¡fail2ban>ç¬¬ä¸‰æ­¥ï¼šä¸»åŠ¨é˜²å¾¡ï¼ŒFail2Ban</h2><p>ä¿®æ”¹ç«¯å£åªèƒ½é˜²ä½å‚»ç“œè„šæœ¬ï¼Œå¯¹äºå®šå‘æ‰«æè¿˜æ˜¯ä¸å¤Ÿã€‚è¿™æ—¶å€™å°±éœ€è¦ Fail2Ban ç™»åœºäº†ã€‚å®ƒçš„åŸç†å¾ˆç®€å•ï¼šæ£€æµ‹æ—¥å¿—ï¼Œå‘ç°æŸä¸ª IP åœ¨çŸ­æ—¶é—´å†…å¤šæ¬¡ç™»å½•å¤±è´¥ï¼Œå°±è°ƒç”¨é˜²ç«å¢™æŠŠå®ƒå°ç¦ä¸€æ®µæ—¶é—´ã€‚</p><h3 id=å®‰è£…-fail2ban>å®‰è£… Fail2Ban</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># CentOS/RHEL (éœ€è¦å…ˆå®‰è£… EPEL æº)</span>
</span></span><span class=line><span class=cl>sudo yum install epel-release -y
</span></span><span class=line><span class=cl>sudo yum install fail2ban -y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Ubuntu/Debian</span>
</span></span><span class=line><span class=cl>sudo apt-get install fail2ban -y
</span></span></code></pre></td></tr></table></div></div><h3 id=é…ç½®-jail>é…ç½® Jail</h3><p>Fail2Ban çš„é»˜è®¤é…ç½®æ–‡ä»¶åœ¨ <code>/etc/fail2ban/jail.conf</code>ï¼Œä½†æˆ‘ä»¬ä¸è¦ç›´æ¥æ”¹å®ƒï¼Œè€Œæ˜¯åˆ›å»ºä¸€ä¸ª <code>jail.local</code>ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
</span></span><span class=line><span class=cl>sudo vim /etc/fail2ban/jail.local
</span></span></code></pre></td></tr></table></div></div><p>é‡ç‚¹ä¿®æ”¹ <code>[sshd]</code> éƒ¨åˆ†ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-ini data-lang=ini><span class=line><span class=cl><span class=k>[sshd]</span>
</span></span><span class=line><span class=cl><span class=na>enabled</span> <span class=o>=</span> <span class=s>true</span>
</span></span><span class=line><span class=cl><span class=c1># å¦‚æœä½ æ”¹äº†ç«¯å£ï¼Œè¿™é‡Œä¸€å®šè¦æ”¹</span>
</span></span><span class=line><span class=cl><span class=na>port</span>    <span class=o>=</span> <span class=s>22222</span>
</span></span><span class=line><span class=cl><span class=c1># è¿‡æ»¤è§„åˆ™</span>
</span></span><span class=line><span class=cl><span class=na>filter</span>  <span class=o>=</span> <span class=s>sshd</span>
</span></span><span class=line><span class=cl><span class=c1># æ—¥å¿—è·¯å¾„</span>
</span></span><span class=line><span class=cl><span class=na>logpath</span> <span class=o>=</span> <span class=s>/var/log/secure</span>
</span></span><span class=line><span class=cl><span class=c1># æœ€å¤§å°è¯•æ¬¡æ•°</span>
</span></span><span class=line><span class=cl><span class=na>maxretry</span> <span class=o>=</span> <span class=s>3</span>
</span></span><span class=line><span class=cl><span class=c1># å°ç¦æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œè¿™é‡Œè®¾ä¸ºä¸€å¤©</span>
</span></span><span class=line><span class=cl><span class=na>bantime</span> <span class=o>=</span> <span class=s>86400</span>
</span></span><span class=line><span class=cl><span class=c1># æ£€æµ‹æ—¶é—´çª—å£ï¼ˆç§’ï¼‰</span>
</span></span><span class=line><span class=cl><span class=na>findtime</span> <span class=o>=</span> <span class=s>600</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=å¯åŠ¨å¹¶æŸ¥çœ‹çŠ¶æ€>å¯åŠ¨å¹¶æŸ¥çœ‹çŠ¶æ€</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> fail2ban
</span></span><span class=line><span class=cl>sudo systemctl start fail2ban
</span></span></code></pre></td></tr></table></div></div><p>è¿‡ä¸€æ®µæ—¶é—´ï¼Œä½ å¯ä»¥ç”¨è¿™ä¸ªå‘½ä»¤çœ‹çœ‹æˆ˜æœï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo fail2ban-client status sshd
</span></span></code></pre></td></tr></table></div></div><p>ä½ ä¼šçœ‹åˆ° &ldquo;Currently banned&rdquo; åé¢è·Ÿç€ä¸€ä¸² IPï¼Œçœ‹ç€å®ƒä»¬è¢«å…³è¿›å°é»‘å±‹ï¼Œå¿ƒé‡Œè«åæš—çˆ½ã€‚</p><h2 id=ç¬¬å››æ­¥æœ€åçš„é˜²çº¿é˜²ç«å¢™>ç¬¬å››æ­¥ï¼šæœ€åçš„é˜²çº¿ï¼Œé˜²ç«å¢™</h2><p>è™½ç„¶é˜¿é‡Œäº‘æœ‰å®‰å…¨ç»„ï¼ˆSecurity Groupï¼‰ï¼Œä½†æˆ‘å»ºè®®ç³»ç»Ÿå†…éƒ¨çš„é˜²ç«å¢™ï¼ˆFirewalld æˆ– UFWï¼‰ä¹Ÿè¦å¼€èµ·æ¥ï¼ŒåŒé‡ä¿éšœã€‚</p><p>ä»¥ CentOS çš„ Firewalld ä¸ºä¾‹ï¼š</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># å¯åŠ¨é˜²ç«å¢™</span>
</span></span><span class=line><span class=cl>sudo systemctl start firewalld
</span></span><span class=line><span class=cl>sudo systemctl <span class=nb>enable</span> firewalld
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># æ”¾è¡Œæ–°çš„ SSH ç«¯å£</span>
</span></span><span class=line><span class=cl>sudo firewall-cmd --permanent --add-port<span class=o>=</span>22222/tcp
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ç§»é™¤é»˜è®¤çš„ ssh æœåŠ¡ï¼ˆå› ä¸ºå®ƒå¯¹åº” 22 ç«¯å£ï¼‰</span>
</span></span><span class=line><span class=cl>sudo firewall-cmd --permanent --remove-service<span class=o>=</span>ssh
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># é‡è½½é…ç½®</span>
</span></span><span class=line><span class=cl>sudo firewall-cmd --reload
</span></span></code></pre></td></tr></table></div></div><h2 id=æ€»ç»“>æ€»ç»“</h2><p>ç»è¿‡è¿™ä¸€ç•ªæŠ˜è…¾ï¼š</p><ol><li><strong>SSH ç«¯å£æ”¹äº†</strong>ï¼Œæ‰«æè„šæœ¬æ‰¾ä¸åˆ°é—¨ã€‚</li><li><strong>Root ç¦äº†</strong>ï¼Œå¿…é¡»ç”¨æ™®é€šç”¨æˆ·ææƒã€‚</li><li><strong>å¯†ç ç™»ä¸ä¸Šäº†</strong>ï¼Œå¿…é¡»æœ‰å¯†é’¥ã€‚</li><li><strong>Fail2Ban å®ˆç€</strong>ï¼Œè°æ•¢æš´åŠ›ç ´è§£ç›´æ¥å° IPã€‚</li></ol><p>å†æ¬¡å®¡è§†ç³»ç»Ÿæ—¥å¿—ï¼Œå¼‚å¸¸ç™»å½•å°è¯•å·²å¤§å¹…å‡å°‘ï¼Œæ—¥å¿—ç¯å¢ƒæ¢å¤äº†åº”æœ‰çš„æ¸…æœ—ã€‚</p><p>ç½‘ç»œå®‰å…¨é¢†åŸŸä¸å­˜åœ¨ç»å¯¹çš„â€œé“œå¢™é“å£â€ï¼Œé˜²å¾¡çš„æ ¸å¿ƒç­–ç•¥åœ¨äºä¸æ–­æå‡æ”»å‡»è€…çš„æˆæœ¬ã€‚å¯¹äºä¸ªäººæœåŠ¡å™¨è€Œè¨€ï¼Œåˆ‡å®è½å®ä¸Šè¿°å®‰å…¨åŠ å›ºæªæ–½ï¼Œè¶³ä»¥æœ‰æ•ˆæŠµå¾¡ç»å¤§å¤šæ•°è‡ªåŠ¨åŒ–è„šæœ¬çš„æ¶æ„æ‰«æä¸æ”»å‡»ã€‚</p><p>è‡³æ­¤ï¼ŒæœåŠ¡å™¨çš„åŸºç¡€å®‰å…¨é˜²çº¿å·²æ„å»ºå®Œæˆã€‚</p></section><footer class=article-footer><section class=article-tags><a href=/hugo_blog/zh-cn/tags/linux/>Linux</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2026 varcat</section><section class=powerby>ä½¿ç”¨ <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> æ„å»º<br>ä¸»é¢˜ <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.33.0>Stack</a></b> ç”± <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> è®¾è®¡</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/hugo_blog/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>